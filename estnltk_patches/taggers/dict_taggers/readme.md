Rough copy from precise4q branch, though currently ruleset and substringtagger are for ambiguous layers (for extracting drug names)